<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Wrapping testing-libraryâ€™s render Method to Write More Robust Tests</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Wrapping testing-libraryâ€™s render Method to Write More Robust Tests</h1>
</header>
<section data-field="subtitle" class="p-summary">
If you are using testing-library as a test framework for your ReactJS project, you are likely familiar with the render method used toâ€¦
</section>
<section data-field="body" class="e-content">
<section name="ba0e" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="0273" id="0273" class="graf graf--h3 graf--leading graf--title">Wrapping testing-libraryâ€™s render Method to Write More RobustÂ Tests</h3><figure name="017e" id="017e" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="1*P3O9VYJEtWe9ZAziRLiPoA.jpeg" data-width="600" data-height="788" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*P3O9VYJEtWe9ZAziRLiPoA.jpeg"><figcaption class="imageCaption">10/10 Would not recommend</figcaption></figure><p name="1df6" id="1df6" class="graf graf--p graf-after--figure">If you are using <a href="https://testing-library.com/docs/react-testing-library/intro/" data-href="https://testing-library.com/docs/react-testing-library/intro/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">testing-library</a> as a test framework for your ReactJS project, you are likely familiar with the <code class="markup--code markup--p-code">render</code> method used to, well, render components. But how many of your components are easily renderable with no additional bootstrapping?</p><p name="3b6b" id="3b6b" class="graf graf--p graf-after--p">Itâ€™s likely your project either has a theme, some context providers or leverages redux. Perhaps it uses all these features. So how do you write tests for your simple <code class="markup--code markup--p-code">Cart</code> component which depends on a <code class="markup--code markup--p-code">user</code> object being available in the redux store? Or your <code class="markup--code markup--p-code">Button</code> which is wrapped in a <code class="markup--code markup--p-code">ThemeProvider</code>Â ?</p><p name="ee62" id="ee62" class="graf graf--p graf-after--p">Our team struggled with re-inventing the wheel with each unit test, until we consolidated the most common environments we needed to include for our tests to work.</p><p name="5356" id="5356" class="graf graf--p graf-after--p">The most common scenario we needed to replicate was a component that needed access to the redux store.</p><figure name="7a29" id="7a29" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/BrianJenney/c0e993fb48d69590262a3291c5853a06.js"></script></figure><p name="5b3c" id="5b3c" class="graf graf--p graf-after--figure">We have a common store object that we can extend via our <code class="markup--code markup--p-code">createReduxStore</code> method with a <code class="markup--code markup--p-code">currentUser</code> object.</p><p name="2804" id="2804" class="graf graf--p graf-after--p">Weâ€™ve also included top level providers like <code class="markup--code markup--p-code">ThemeProvider</code> and <code class="markup--code markup--p-code">BrowserRouter</code> which all of our components rely on.</p><p name="e435" id="e435" class="graf graf--p graf-after--p">For a component that depends on a user being available in the redux store we can easily support this scenario:</p><figure name="8823" id="8823" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/BrianJenney/841db219461eb06018bfd11065fe0841.js"></script></figure><p name="ad55" id="ad55" class="graf graf--p graf-after--figure">Your app probably has routes rather than a single massive component to house all the information in your app. Users amirite ðŸ˜‰.</p><p name="5a98" id="5a98" class="graf graf--p graf-after--p">With routes, you may use slugs or query strings to determine UI logic. For example a dynamic path like <code class="markup--code markup--p-code">product/:id</code> can inform a component which product to display based on the slug. To support this scenario we leveraged the following helper:</p><figure name="f515" id="f515" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/BrianJenney/c94678e96c7a2a95641f524ac94a9bca.js"></script></figure><p name="d47d" id="d47d" class="graf graf--p graf-after--figure">Now with a component that needs to inspect <code class="markup--code markup--p-code">match.params</code> in order to display relevant data can easily be tested like so:</p><figure name="2157" id="2157" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/BrianJenney/94dc377dd4f2af55a990050b07b39dfd.js"></script></figure><p name="fc76" id="fc76" class="graf graf--p graf-after--figure graf--trailing">These two helpers made it much easier to replicate the conditions needed to render most of our components while writing unit tests and ensures we donâ€™t reinvent the wheel, or in this case, the environment, in our development process.</p></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@brianjenney" class="p-author h-card">Brian Jenney</a> on <a href="https://medium.com/p/b46383448b81"><time class="dt-published" datetime="2021-08-09T16:11:32.600Z">August 9, 2021</time></a>.</p><p><a href="https://medium.com/@brianjenney/wrapping-testing-librarys-render-method-to-write-tests-better-and-faster-b46383448b81" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on October 30, 2025.</p></footer></article></body></html>