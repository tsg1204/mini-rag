<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Publishing a Library Using PlopJS to Scaffold Components</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Publishing a Library Using PlopJS to Scaffold Components</h1>
</header>
<section data-field="subtitle" class="p-summary">
Charles, a ReactJS developer, sits down and wipes the breakfast burrito crumbs from his scraggly beard.
</section>
<section data-field="body" class="e-content">
<section name="41ee" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="9079" id="9079" class="graf graf--h3 graf--leading graf--title">Publishing a Library Using PlopJS to Scaffold Components</h3><figure name="3617" id="3617" class="graf graf--figure graf-after--h3"><img class="graf-image" data-image-id="1*3-aPaMthaVONJW7uqLtsCg.jpeg" data-width="1896" data-height="982" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*3-aPaMthaVONJW7uqLtsCg.jpeg"><figcaption class="imageCaption">Pictured: Charles, React Developer at a typical day at work</figcaption></figure><p name="ba78" id="ba78" class="graf graf--p graf-after--figure">Charles, a ReactJS developer, sits down and wipes the breakfast burrito crumbs from his scraggly beard.</p><p name="bdd3" id="bdd3" class="graf graf--p graf--startsWithDoubleQuote graf-after--p">“Ahh, time to create another component!” he exclaims, while cracking his fingers and then resting them ever so gently on his mechanical keyboard.</p><p name="4d13" id="4d13" class="graf graf--p graf-after--p">The codebase he’s adding to has a number of other components, similar to the one he’s about to create. He copies all the folders and files under <code class="markup--code markup--p-code">SomeGenericComponent</code> and renames them, then goes through the <code class="markup--code markup--p-code">SomeGenericComponent.test.js</code> file and updates the name of the component and removes all the current test statements.</p><p name="4b55" id="4b55" class="graf graf--p graf--startsWithDoubleQuote graf-after--p">“I’ll get to these later” he chuckles.</p><p name="5aea" id="5aea" class="graf graf--p graf-after--p">He follows a similar process for the rest of the files, changing names, removing logic and extraneous imports until he has a blank slate. This manual process, one he’s done dozens of times, is fraught with small errors. A spelling mistake here makes an import unresolvable. An additional file that should’ve been deleted is pushed to source code. A test description is incorrect.</p><p name="cb1e" id="cb1e" class="graf graf--p graf-after--p">This error-prone method that Charlie uses led our team to explore how to programatically scaffold new components and enforce established patterns and file structure without precarious copying and pasting. We ultimately decided to leverage <a href="https://github.com/plopjs/plop" data-href="https://github.com/plopjs/plop" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">plop.js</a> — a library for generating code. Through a <code class="markup--code markup--p-code">plopFile</code> we were able to expose generators to scaffold components based on the input from a user.</p><figure name="6a84" id="6a84" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*8bywguHPe49ReMaegcbgzA.png" data-width="1022" data-height="506" src="https://cdn-images-1.medium.com/max/800/1*8bywguHPe49ReMaegcbgzA.png"></figure><p name="c6b6" id="c6b6" class="graf graf--p graf-after--figure">We have a pretty useful generator here that will scaffold a component with a generic test and even includes some pieces of the global state from our redux store.</p><p name="5e56" id="5e56" class="graf graf--p graf-after--p">Plop.js has some excellent documentation for how to set up generators and template files using handlebars but one thing missing from their documentation is how to expose your generators through a standalone library!</p><p name="b561" id="b561" class="graf graf--p graf-after--p">Our generator worked great when it was included in the project where we were using it but in order to leverage this tool across our different projects we needed to package this code in a library that could be installed anywhere. <a href="https://www.npmjs.com/package/node-plop" data-href="https://www.npmjs.com/package/node-plop" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Node-plop</a> is likely more suited for this kind of task but using it would require a lot more effort and tooling which we wanted to avoid if necessary.</p><p name="fe06" id="fe06" class="graf graf--p graf-after--p">We published our generator library but when we linked it to a front end consumer we saw that it was not working as expected — plop looks for templates in certain directories to use based on your generator, but they were all incorrect?! Instead of adding the generated code to our consumer it was looking for paths that did not exist.</p><p name="5ea7" id="5ea7" class="graf graf--p graf-after--p">Our solution was to use the relative paths in order to find the templates that shipped with our library and to use the current working directory to know where to install the code generated from the templates:</p><figure name="d5f9" id="d5f9" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/BrianJenney/2b0d7a995128774747148648804cbeb8.js"></script></figure><p name="689c" id="689c" class="graf graf--p graf-after--figure">In our consuming front ends we installed <code class="markup--code markup--p-code">plop</code> as a dependency and included a <code class="markup--code markup--p-code">plopFile.js</code> at the root of the project where we simply required our library:</p><figure name="e75a" id="e75a" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/BrianJenney/b9e1324d3b07f5463c550371cb148024.js"></script></figure><p name="8cb7" id="8cb7" class="graf graf--p graf-after--figure graf--trailing">Using plop is simple and can really reduce the amount of hours your team spends re-writing the same code while also enforcing standards and patterns across repos. Solving the issue of how to package and publish a library where all our templates live was the biggest hurdle we needed to clear in order to get the maximum benefit from this tool. Hopefully a Google search led you here and saved you from re-inventing the wheel. Happy coding!</p></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@brianjenney" class="p-author h-card">Brian Jenney</a> on <a href="https://medium.com/p/ba83d21cade9"><time class="dt-published" datetime="2021-09-01T22:00:52.667Z">September 1, 2021</time></a>.</p><p><a href="https://medium.com/@brianjenney/publishing-a-library-using-plopjs-to-scaffold-components-ba83d21cade9" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on October 30, 2025.</p></footer></article></body></html>