<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Make Release Day Less Stressful</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Make Release Day Less Stressful</h1>
</header>
<section data-field="subtitle" class="p-summary">
Using a script to verify the changes in your release branches
</section>
<section data-field="body" class="e-content">
<section name="3b72" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="3afb" id="3afb" class="graf graf--h3 graf--leading graf--title">Make Release Day Less Stressful</h3><h4 name="9d6c" id="9d6c" class="graf graf--h4 graf-after--h3 graf--subtitle">Using a script to verify the changes in your releaseÂ branches</h4><figure name="9ad3" id="9ad3" class="graf graf--figure graf-after--h4"><img class="graf-image" data-image-id="1*76dS6wq466bTZ4MnoUGHXg.png" data-width="417" data-height="121" alt="git branch" src="https://cdn-images-1.medium.com/max/800/1*76dS6wq466bTZ4MnoUGHXg.png"></figure><p name="5a0d" id="5a0d" class="graf graf--p graf-after--figure">Itâ€™s release day at Vincentâ€™s company! In just a few minutes all the new code for their different applications will be released into the wild. His team is feeling confident about a particular feature and hoping things go smoothly. After the site goes live Vince immediately receives a Pager Duty alert. Ruh roh.</p><p name="41d8" id="41d8" class="graf graf--p graf-after--p">It appears an API is returning 500s when processing customer credit cards. A quick investigation into the issue reveals the root cause: a simple property name mismatch. The API is expecting an object with a property named <code class="markup--code markup--p-code">creditCard</code> while the front end is passing the now deprecated <code class="markup--code markup--p-code">credit_card</code> property.</p><p name="5cca" id="5cca" class="graf graf--p graf-after--p">Wait! This was part of a small change that should have been deployed, he remembers. Vince digs through the commit history for the release branch and realizes that change was never added though their JIRA board has it marked as <code class="markup--code markup--p-code">DONE</code>. A simple mistake but he wonders how this could have been avoided. Especially when heâ€™s on Pager Duty rotation.</p><p name="9f31" id="9f31" class="graf graf--p graf-after--p">On Cloroxâ€™s Direct to Consumer Engineering Team we release on a weekly schedule and use <code class="markup--code markup--p-code">release</code> prefixed branches which we promote to production after some thorough testing in a production-like environment. This additional step likely would have saved Vinceâ€™s team from that embarrassing alert. Once these <code class="markup--code markup--p-code">release</code> branches have been deemed as safe and working in production, we will merge them to their respective <code class="markup--code markup--p-code">master</code> branches.</p><p name="1a5e" id="1a5e" class="graf graf--p graf-after--p">As an additional sanity check we run a small script that confirms that what we expect to be in our <code class="markup--code markup--p-code">release</code> branches is in fact there. We donâ€™t want to be in a situation like Vincent.</p><figure name="f021" id="f021" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/BrianJenney/65f8fe748f6c760332314c9ab33b98e1.js"></script></figure><p name="9949" id="9949" class="graf graf--p graf-after--figure">The script above checks our current release branch against master for each project and give us an output of the stories that are not yet found in master. For the script to work we check for the existence of a particular commit message patternâ€Šâ€”â€Šin our case the name of the ticket that was worked on (e.g. <code class="markup--code markup--p-code">STORY-1234</code> ), though your company may have other unique identifiers to determine this.</p><p name="9606" id="9606" class="graf graf--p graf-after--p">While this script is written to work with BitBucket it can easily be used for Git with a few tweaks and following the same logic.</p><p name="34ee" id="34ee" class="graf graf--p graf-after--p graf--trailing">Of course no automated check such as this is a replacement for developers remembering to merge their tickets but it does offer a nice simple way (with no dependencies might I add ðŸ˜‰) to add another layer of confidence when you plan on releasing.</p></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@brianjenney" class="p-author h-card">Brian Jenney</a> on <a href="https://medium.com/p/bdee3ba17b73"><time class="dt-published" datetime="2021-02-03T02:54:22.945Z">February 3, 2021</time></a>.</p><p><a href="https://medium.com/@brianjenney/make-release-day-less-stressful-bdee3ba17b73" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on October 30, 2025.</p></footer></article></body></html>